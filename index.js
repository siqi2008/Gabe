const _0x3cad6d=_0x39ff;function _0x11e7(){const _0x1003c1=['vmess','unlinkSync','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','split','aarch64','2083','forEach','9afd1229-b893-40c1-84dd-51e7ce204913','pop','.exe\x20>\x20nul\x202>&1','message','length','error','isFile','push','data','application/json','127.0.0.1','\x20-p\x20','497266nwZmFD','1098639sOLUxX','floor','Nodes\x20uploaded\x20successfully','/vmess-argo','charAt','28xDymQA','\x20>/dev/null\x202>&1','tunnel.yml','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','get','\x20is\x20running','\x0a\x20\x20tunnel:\x20','https://amd64.ssss.nyc.mn/web','clear','443','nohup\x20','has','post','response','SUB_PATH','statSync','tls','stringify','NEZHA_KEY','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','express','util','https://arm64.ssss.nyc.mn/web','http\x20server\x20is\x20running\x20on\x20port:','2087','none','ARGO_AUTH','writeFileSync','env','./tmp','https://arm64.ssss.nyc.mn/agent','npm\x20running\x20error:\x20','arm64','tunnel.json','substring','Empowerment\x20success\x20for\x20','amd','?encryption=none&security=tls&sni=','basename','status','8443','trim','mkdirSync','UUID','win32','/api/add-nodes','ARGO_DOMAIN','toString','readFileSync','/vless-argo','147959NfsCAq','90RwqDGg','\x0avless://','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','exec','\x0a\x20\x20credentials-file:\x20','\x20successfully','listen','2053','/dev/null','blackhole','NEZHA\x20variable\x20is\x20empty,skip\x20running','cdns.doon.eu.org','firefox','taskkill\x20/f\x20/im\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','6196952rDsCPT','log','send','/api/add-subscriptions','utf-8','9576310CBPdUW','&path=%2Ftrojan-argo%3Fed%3D2560#','filter','27432MlVmxI','https+local://8.8.8.8/dns-query','270CTmfSK','unshift','arm','all','match','\x22\x20>\x20/dev/null\x202>&1','Hello\x20world!','http','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','direct','then','config.yaml','ARGO_DOMAIN:','ARGO_PORT','config.json','vless','\x20>/dev/null\x202>&1\x20&','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','TunnelSecret','Error\x20reading\x20boot.log:','Subscription\x20uploaded\x20successfully','join','NEZHA_SERVER','platform','\x0aclient_secret:\x20','pipe','axios','FILE_PATH','del\x20/f\x20/q\x20','unlink','\x0a\x20\x20\x0atrojan://','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','from','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','createWriteStream','App\x20is\x20running','Error\x20executing\x20command:\x20','\x20already\x20exists','web\x20running\x20error:\x20','quic','fileName','tcp','arch','Skipping\x20adding\x20automatic\x20access\x20task','trojan','test','/config.json\x20>/dev/null\x202>&1\x20&','363189dshPUF','existsSync','finish','\x20-c\x20','2096','\x20is\x20created','catch','NAME','pkill\x20-f\x20\x22[','\x20>\x20nul\x202>&1','UPLOAD_URL','https://amd64.ssss.nyc.mn/agent','--tls','php\x20running\x20error:\x20','/vmess-argo?ed=2560','/trojan-argo','https://amd64.ssss.nyc.mn/bot','/api/delete-nodes','boot.log','base64','text/plain;\x20charset=utf-8','block','readdirSync','PORT','false','&path=%2Fvless-argo%3Fed%3D2560#','sub.txt','set','chmod','Download\x20','Content-Type','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','child_process','64DxIYKQ','\x20-s\x20','includes','\x20failed:\x20','ArgoDomain:'];_0x11e7=function(){return _0x1003c1;};return _0x11e7();}(function(_0x37fd8d,_0x2eaef7){const _0x33d55b=_0x39ff,_0x47033b=_0x37fd8d();while(!![]){try{const _0x3c7804=-parseInt(_0x33d55b(0x173))/0x1+-parseInt(_0x33d55b(0x129))/0x2*(parseInt(_0x33d55b(0x1a5))/0x3)+-parseInt(_0x33d55b(0x16b))/0x4+parseInt(_0x33d55b(0x170))/0x5+parseInt(_0x33d55b(0x175))/0x6*(parseInt(_0x33d55b(0x15b))/0x7)+-parseInt(_0x33d55b(0x10b))/0x8*(-parseInt(_0x33d55b(0x124))/0x9)+parseInt(_0x33d55b(0x15c))/0xa*(parseInt(_0x33d55b(0x123))/0xb);if(_0x3c7804===_0x2eaef7)break;else _0x47033b['push'](_0x47033b['shift']());}catch(_0x5090d7){_0x47033b['push'](_0x47033b['shift']());}}}(_0x11e7,0xeed79));const express=require(_0x3cad6d(0x13d)),app=express(),axios=require(_0x3cad6d(0x190)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x3cad6d(0x13e)),exec=promisify(require('child_process')[_0x3cad6d(0x15f)]),{execSync}=require(_0x3cad6d(0x10a)),UPLOAD_URL=process[_0x3cad6d(0x145)][_0x3cad6d(0x1af)]||'',PROJECT_URL=process[_0x3cad6d(0x145)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x3cad6d(0x145)]['AUTO_ACCESS']||![],FILE_PATH=process['env'][_0x3cad6d(0x191)]||_0x3cad6d(0x146),SUB_PATH=process['env'][_0x3cad6d(0x137)]||'sub',PORT=process['env']['SERVER_PORT']||process['env'][_0x3cad6d(0x101)]||0xbb8,UUID=process[_0x3cad6d(0x145)][_0x3cad6d(0x154)]||_0x3cad6d(0x117),NEZHA_SERVER=process['env'][_0x3cad6d(0x18c)]||'',NEZHA_PORT=process[_0x3cad6d(0x145)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x3cad6d(0x145)][_0x3cad6d(0x13b)]||'',ARGO_DOMAIN=process['env'][_0x3cad6d(0x157)]||'',ARGO_AUTH=process[_0x3cad6d(0x145)][_0x3cad6d(0x143)]||'',ARGO_PORT=process[_0x3cad6d(0x145)][_0x3cad6d(0x183)]||0x1f41,CFIP=process[_0x3cad6d(0x145)]['CFIP']||_0x3cad6d(0x167),CFPORT=process['env']['CFPORT']||0x1bb,NAME=process[_0x3cad6d(0x145)][_0x3cad6d(0x1ac)]||'';!fs[_0x3cad6d(0x1a6)](FILE_PATH)?(fs[_0x3cad6d(0x153)](FILE_PATH),console[_0x3cad6d(0x16c)](FILE_PATH+_0x3cad6d(0x1aa))):console[_0x3cad6d(0x16c)](FILE_PATH+_0x3cad6d(0x19b));function _0x39ff(_0x177e38,_0x117157){const _0x11e77a=_0x11e7();return _0x39ff=function(_0x39ffa9,_0x1b1424){_0x39ffa9=_0x39ffa9-0xfc;let _0x315ad6=_0x11e77a[_0x39ffa9];return _0x315ad6;},_0x39ff(_0x177e38,_0x117157);}function generateRandomName(){const _0x15cda1=_0x3cad6d,_0x5e467a='abcdefghijklmnopqrstuvwxyz';let _0x1d8dc2='';for(let _0x501a0e=0x0;_0x501a0e<0x6;_0x501a0e++){_0x1d8dc2+=_0x5e467a[_0x15cda1(0x128)](Math[_0x15cda1(0x125)](Math['random']()*_0x5e467a['length']));}return _0x1d8dc2;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x3cad6d(0x18b)](FILE_PATH,npmName),phpPath=path[_0x3cad6d(0x18b)](FILE_PATH,phpName),webPath=path[_0x3cad6d(0x18b)](FILE_PATH,webName),botPath=path[_0x3cad6d(0x18b)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x3cad6d(0x104)),listPath=path[_0x3cad6d(0x18b)](FILE_PATH,'list.txt'),bootLogPath=path[_0x3cad6d(0x18b)](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,_0x3cad6d(0x184));function deleteNodes(){const _0x7ba395=_0x3cad6d;try{if(!UPLOAD_URL)return;if(!fs[_0x7ba395(0x1a6)](subPath))return;let _0x4f585;try{_0x4f585=fs['readFileSync'](subPath,_0x7ba395(0x16f));}catch{return null;}const _0x5428ae=Buffer[_0x7ba395(0x196)](_0x4f585,_0x7ba395(0xfd))[_0x7ba395(0x158)](_0x7ba395(0x16f)),_0x563375=_0x5428ae[_0x7ba395(0x113)]('\x0a')[_0x7ba395(0x172)](_0x10f2cd=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x7ba395(0x1a3)](_0x10f2cd));if(_0x563375['length']===0x0)return;return axios['post'](UPLOAD_URL+_0x7ba395(0x1b6),JSON[_0x7ba395(0x13a)]({'nodes':_0x563375}),{'headers':{'Content-Type':_0x7ba395(0x120)}})[_0x7ba395(0x1ab)](_0x10016c=>{return null;}),null;}catch(_0x32d3c7){return null;}}function cleanupOldFiles(){const _0xd09d68=_0x3cad6d;try{const _0x477b96=fs[_0xd09d68(0x100)](FILE_PATH);_0x477b96[_0xd09d68(0x116)](_0x1c9153=>{const _0x243213=_0xd09d68,_0x2f6861=path['join'](FILE_PATH,_0x1c9153);try{const _0x31e764=fs[_0x243213(0x138)](_0x2f6861);_0x31e764[_0x243213(0x11d)]()&&fs[_0x243213(0x111)](_0x2f6861);}catch(_0x2f4866){}});}catch(_0x385c23){}}app['get']('/',function(_0x28f827,_0x66655f){const _0x4fe352=_0x3cad6d;_0x66655f[_0x4fe352(0x16d)](_0x4fe352(0x17b));});async function generateConfig(){const _0x388d9a=_0x3cad6d,_0xee7a8b={'log':{'access':_0x388d9a(0x164),'error':'/dev/null','loglevel':_0x388d9a(0x142)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x388d9a(0x185),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x388d9a(0x142),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x388d9a(0x127),'dest':0xbbb},{'path':_0x388d9a(0x1b4),'dest':0xbbc}]},'streamSettings':{'network':_0x388d9a(0x19f)}},{'port':0xbb9,'listen':_0x388d9a(0x121),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x388d9a(0x142)},'streamSettings':{'network':_0x388d9a(0x19f),'security':_0x388d9a(0x142)}},{'port':0xbba,'listen':_0x388d9a(0x121),'protocol':_0x388d9a(0x185),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x388d9a(0x142),'wsSettings':{'path':_0x388d9a(0x15a)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x388d9a(0x139),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x388d9a(0x121),'protocol':_0x388d9a(0x110),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x388d9a(0x127)}},'sniffing':{'enabled':!![],'destOverride':[_0x388d9a(0x17c),'tls',_0x388d9a(0x19d)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x388d9a(0x121),'protocol':_0x388d9a(0x1a2),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x388d9a(0x142),'wsSettings':{'path':_0x388d9a(0x1b4)}},'sniffing':{'enabled':!![],'destOverride':[_0x388d9a(0x17c),'tls',_0x388d9a(0x19d)],'metadataOnly':![]}}],'dns':{'servers':[_0x388d9a(0x174)]},'outbounds':[{'protocol':'freedom','tag':_0x388d9a(0x17f)},{'protocol':_0x388d9a(0x165),'tag':_0x388d9a(0xff)}]};fs[_0x388d9a(0x144)](path[_0x388d9a(0x18b)](FILE_PATH,'config.json'),JSON[_0x388d9a(0x13a)](_0xee7a8b,null,0x2));}function getSystemArchitecture(){const _0x260dc5=_0x3cad6d,_0x381151=os[_0x260dc5(0x1a0)]();return _0x381151===_0x260dc5(0x177)||_0x381151===_0x260dc5(0x149)||_0x381151===_0x260dc5(0x114)?'arm':_0x260dc5(0x14d);}function downloadFile(_0x28cf3a,_0x274b0c,_0xe2b0db){const _0x436f30=_0x3cad6d,_0x16f4b3=_0x28cf3a;!fs['existsSync'](FILE_PATH)&&fs[_0x436f30(0x153)](FILE_PATH,{'recursive':!![]});const _0x5a8046=fs[_0x436f30(0x198)](_0x16f4b3);axios({'method':'get','url':_0x274b0c,'responseType':'stream'})[_0x436f30(0x180)](_0x29edcd=>{const _0x1adbfe=_0x436f30;_0x29edcd[_0x1adbfe(0x11f)][_0x1adbfe(0x18f)](_0x5a8046),_0x5a8046['on'](_0x1adbfe(0x1a7),()=>{const _0x565040=_0x1adbfe;_0x5a8046['close'](),console[_0x565040(0x16c)](_0x565040(0x107)+path['basename'](_0x16f4b3)+_0x565040(0x161)),_0xe2b0db(null,_0x16f4b3);}),_0x5a8046['on'](_0x1adbfe(0x11c),_0x39bcb3=>{const _0x2ca3b8=_0x1adbfe;fs[_0x2ca3b8(0x193)](_0x16f4b3,()=>{});const _0x37242c=_0x2ca3b8(0x107)+path[_0x2ca3b8(0x14f)](_0x16f4b3)+_0x2ca3b8(0x10e)+_0x39bcb3[_0x2ca3b8(0x11a)];console[_0x2ca3b8(0x11c)](_0x37242c),_0xe2b0db(_0x37242c);});})[_0x436f30(0x1ab)](_0x213d77=>{const _0x54fbaf=_0x436f30,_0x42d2b8='Download\x20'+path[_0x54fbaf(0x14f)](_0x16f4b3)+_0x54fbaf(0x10e)+_0x213d77[_0x54fbaf(0x11a)];console[_0x54fbaf(0x11c)](_0x42d2b8),_0xe2b0db(_0x42d2b8);});}async function downloadFilesAndRun(){const _0x21e746=_0x3cad6d,_0x27208c=getSystemArchitecture(),_0x2224c0=getFilesForArchitecture(_0x27208c);if(_0x2224c0[_0x21e746(0x11b)]===0x0){console[_0x21e746(0x16c)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x5e0fd9=_0x2224c0['map'](_0x5e52ce=>{return new Promise((_0x21778d,_0x4ded95)=>{const _0x41b009=_0x39ff;downloadFile(_0x5e52ce[_0x41b009(0x19e)],_0x5e52ce['fileUrl'],(_0x37b7ac,_0x2c7346)=>{_0x37b7ac?_0x4ded95(_0x37b7ac):_0x21778d(_0x2c7346);});});});try{await Promise[_0x21e746(0x178)](_0x5e0fd9);}catch(_0x4d37db){console['error']('Error\x20downloading\x20files:',_0x4d37db);return;}function _0x12a7b7(_0x201fa4){const _0x5a5eb5=_0x21e746,_0x2d9010=0x1fd;_0x201fa4[_0x5a5eb5(0x116)](_0x19874f=>{const _0x2da354=_0x5a5eb5;fs[_0x2da354(0x1a6)](_0x19874f)&&fs[_0x2da354(0x106)](_0x19874f,_0x2d9010,_0xcd24c3=>{const _0x253a61=_0x2da354;_0xcd24c3?console[_0x253a61(0x11c)]('Empowerment\x20failed\x20for\x20'+_0x19874f+':\x20'+_0xcd24c3):console[_0x253a61(0x16c)](_0x253a61(0x14c)+_0x19874f+':\x20'+_0x2d9010[_0x253a61(0x158)](0x8));});});}const _0x8815b6=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x12a7b7(_0x8815b6);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3a3d5f=NEZHA_SERVER[_0x21e746(0x10d)](':')?NEZHA_SERVER[_0x21e746(0x113)](':')[_0x21e746(0x118)]():'',_0x4296d5=new Set([_0x21e746(0x132),_0x21e746(0x151),_0x21e746(0x1a9),'2087','2083',_0x21e746(0x163)]),_0x3d3f61=_0x4296d5[_0x21e746(0x134)](_0x3a3d5f)?'true':_0x21e746(0x102),_0x21ec70=_0x21e746(0x18e)+NEZHA_KEY+_0x21e746(0x195)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x3d3f61+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x21e746(0x144)](path[_0x21e746(0x18b)](FILE_PATH,_0x21e746(0x181)),_0x21ec70);const _0x28630b=_0x21e746(0x133)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x21e746(0x16a);try{await exec(_0x28630b),console['log'](phpName+'\x20is\x20running'),await new Promise(_0x34e5e7=>setTimeout(_0x34e5e7,0x3e8));}catch(_0x5edeb8){console[_0x21e746(0x11c)](_0x21e746(0x1b2)+_0x5edeb8);}}else{let _0x362db4='';const _0x1d74f7=[_0x21e746(0x132),_0x21e746(0x151),'2096',_0x21e746(0x141),_0x21e746(0x115),_0x21e746(0x163)];_0x1d74f7[_0x21e746(0x10d)](NEZHA_PORT)&&(_0x362db4=_0x21e746(0x1b1));const _0x541395=_0x21e746(0x133)+npmPath+_0x21e746(0x10c)+NEZHA_SERVER+':'+NEZHA_PORT+_0x21e746(0x122)+NEZHA_KEY+'\x20'+_0x362db4+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x541395),console[_0x21e746(0x16c)](npmName+'\x20is\x20running'),await new Promise(_0x2669b5=>setTimeout(_0x2669b5,0x3e8));}catch(_0xe1d5ab){console[_0x21e746(0x11c)](_0x21e746(0x148)+_0xe1d5ab);}}}else console[_0x21e746(0x16c)](_0x21e746(0x166));const _0x3ef6ad=_0x21e746(0x133)+webPath+_0x21e746(0x1a8)+FILE_PATH+_0x21e746(0x1a4);try{await exec(_0x3ef6ad),console['log'](webName+_0x21e746(0x12e)),await new Promise(_0x1748ea=>setTimeout(_0x1748ea,0x3e8));}catch(_0xe5cbbc){console[_0x21e746(0x11c)](_0x21e746(0x19c)+_0xe5cbbc);}if(fs[_0x21e746(0x1a6)](botPath)){let _0xed3656;if(ARGO_AUTH[_0x21e746(0x179)](/^[A-Z0-9a-z=]{120,250}$/))_0xed3656=_0x21e746(0x15e)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0xed3656=_0x21e746(0x17e)+FILE_PATH+'/tunnel.yml\x20run':_0xed3656=_0x21e746(0x13c)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x21e746(0x133)+botPath+'\x20'+_0xed3656+_0x21e746(0x186)),console[_0x21e746(0x16c)](botName+_0x21e746(0x12e)),await new Promise(_0x45733a=>setTimeout(_0x45733a,0x7d0));}catch(_0x4e888b){console[_0x21e746(0x11c)](_0x21e746(0x19a)+_0x4e888b);}}await new Promise(_0x1cd20a=>setTimeout(_0x1cd20a,0x1388));}function getFilesForArchitecture(_0x5a9246){const _0x8e8625=_0x3cad6d;let _0x107326;_0x5a9246==='arm'?_0x107326=[{'fileName':webPath,'fileUrl':_0x8e8625(0x13f)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x107326=[{'fileName':webPath,'fileUrl':_0x8e8625(0x130)},{'fileName':botPath,'fileUrl':_0x8e8625(0x1b5)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2f4778=_0x5a9246===_0x8e8625(0x177)?_0x8e8625(0x147):_0x8e8625(0x1b0);_0x107326[_0x8e8625(0x176)]({'fileName':npmPath,'fileUrl':_0x2f4778});}else{const _0x90fa11=_0x5a9246===_0x8e8625(0x177)?'https://arm64.ssss.nyc.mn/v1':'https://amd64.ssss.nyc.mn/v1';_0x107326[_0x8e8625(0x176)]({'fileName':phpPath,'fileUrl':_0x90fa11});}}return _0x107326;}function argoType(){const _0x2a11ba=_0x3cad6d;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x2a11ba(0x16c)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x2a11ba(0x10d)](_0x2a11ba(0x188))){fs['writeFileSync'](path['join'](FILE_PATH,_0x2a11ba(0x14a)),ARGO_AUTH);const _0x7e9a8f=_0x2a11ba(0x12f)+ARGO_AUTH['split']('\x22')[0xb]+_0x2a11ba(0x160)+path['join'](FILE_PATH,_0x2a11ba(0x14a))+_0x2a11ba(0x12c)+ARGO_DOMAIN+_0x2a11ba(0x17d)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x2a11ba(0x144)](path[_0x2a11ba(0x18b)](FILE_PATH,_0x2a11ba(0x12b)),_0x7e9a8f);}else console[_0x2a11ba(0x16c)](_0x2a11ba(0x109));}argoType();async function extractDomains(){const _0x1b417c=_0x3cad6d;let _0x627a74;if(ARGO_AUTH&&ARGO_DOMAIN)_0x627a74=ARGO_DOMAIN,console[_0x1b417c(0x16c)](_0x1b417c(0x182),_0x627a74),await _0x32c0c2(_0x627a74);else try{const _0x2fa478=fs[_0x1b417c(0x159)](path[_0x1b417c(0x18b)](FILE_PATH,'boot.log'),_0x1b417c(0x16f)),_0x3cb577=_0x2fa478[_0x1b417c(0x113)]('\x0a'),_0x3b9cb5=[];_0x3cb577['forEach'](_0x4ad533=>{const _0x2c2f4b=_0x1b417c,_0x368256=_0x4ad533[_0x2c2f4b(0x179)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x368256){const _0x2a4246=_0x368256[0x1];_0x3b9cb5['push'](_0x2a4246);}});if(_0x3b9cb5['length']>0x0)_0x627a74=_0x3b9cb5[0x0],console[_0x1b417c(0x16c)](_0x1b417c(0x10f),_0x627a74),await _0x32c0c2(_0x627a74);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x1b417c(0x111)](path[_0x1b417c(0x18b)](FILE_PATH,_0x1b417c(0xfc)));async function _0xf2ecfd(){const _0x566397=_0x1b417c;try{process['platform']==='win32'?await exec(_0x566397(0x169)+botName+_0x566397(0x119)):await exec(_0x566397(0x1ad)+botName[_0x566397(0x128)](0x0)+']'+botName[_0x566397(0x14b)](0x1)+_0x566397(0x17a));}catch(_0xbdaf60){}}_0xf2ecfd(),await new Promise(_0x52fd70=>setTimeout(_0x52fd70,0xbb8));const _0x52c39d=_0x1b417c(0x13c)+FILE_PATH+_0x1b417c(0x112)+ARGO_PORT;try{await exec(_0x1b417c(0x133)+botPath+'\x20'+_0x52c39d+'\x20>/dev/null\x202>&1\x20&'),console[_0x1b417c(0x16c)](botName+_0x1b417c(0x12e)),await new Promise(_0x4fb2b5=>setTimeout(_0x4fb2b5,0xbb8)),await extractDomains();}catch(_0x48388c){console[_0x1b417c(0x11c)](_0x1b417c(0x19a)+_0x48388c);}}}catch(_0x34d16d){console[_0x1b417c(0x11c)](_0x1b417c(0x189),_0x34d16d);}async function _0x32c0c2(_0x449e4f){const _0x50a721=_0x1b417c,_0x11ecb4=execSync(_0x50a721(0x197),{'encoding':_0x50a721(0x16f)}),_0x433915=_0x11ecb4[_0x50a721(0x152)](),_0x41df8e=NAME?NAME+'-'+_0x433915:_0x433915;return new Promise(_0x258526=>{setTimeout(()=>{const _0x2dadb7=_0x39ff,_0x97249c={'v':'2','ps':''+_0x41df8e,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0x449e4f,'path':_0x2dadb7(0x1b3),'tls':'tls','sni':_0x449e4f,'alpn':'','fp':_0x2dadb7(0x168)},_0x521f5e=_0x2dadb7(0x15d)+UUID+'@'+CFIP+':'+CFPORT+_0x2dadb7(0x14e)+_0x449e4f+'&fp=firefox&type=ws&host='+_0x449e4f+_0x2dadb7(0x103)+_0x41df8e+'\x0a\x20\x20\x0avmess://'+Buffer['from'](JSON[_0x2dadb7(0x13a)](_0x97249c))[_0x2dadb7(0x158)](_0x2dadb7(0xfd))+_0x2dadb7(0x194)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x449e4f+'&fp=firefox&type=ws&host='+_0x449e4f+_0x2dadb7(0x171)+_0x41df8e+'\x0a\x20\x20\x20\x20';console[_0x2dadb7(0x16c)](Buffer[_0x2dadb7(0x196)](_0x521f5e)['toString'](_0x2dadb7(0xfd))),fs[_0x2dadb7(0x144)](subPath,Buffer[_0x2dadb7(0x196)](_0x521f5e)[_0x2dadb7(0x158)]('base64')),console[_0x2dadb7(0x16c)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x2dadb7(0x12d)]('/'+SUB_PATH,(_0x4cbdc1,_0x1bbd0d)=>{const _0x52b522=_0x2dadb7,_0x1dadbf=Buffer[_0x52b522(0x196)](_0x521f5e)['toString'](_0x52b522(0xfd));_0x1bbd0d[_0x52b522(0x105)](_0x52b522(0x108),_0x52b522(0xfe)),_0x1bbd0d[_0x52b522(0x16d)](_0x1dadbf);}),_0x258526(_0x521f5e);},0x7d0);});}}async function uploadNodes(){const _0x418fb3=_0x3cad6d;if(UPLOAD_URL&&PROJECT_URL){const _0x554162=PROJECT_URL+'/'+SUB_PATH,_0x349c4a={'subscription':[_0x554162]};try{const _0x21e144=await axios['post'](UPLOAD_URL+_0x418fb3(0x16e),_0x349c4a,{'headers':{'Content-Type':_0x418fb3(0x120)}});return _0x21e144&&_0x21e144[_0x418fb3(0x150)]===0xc8?(console[_0x418fb3(0x16c)](_0x418fb3(0x18a)),_0x21e144):null;}catch(_0x339f41){if(_0x339f41[_0x418fb3(0x136)]){if(_0x339f41['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x418fb3(0x1a6)](listPath))return;const _0x2bff95=fs['readFileSync'](listPath,_0x418fb3(0x16f)),_0x2de6f1=_0x2bff95['split']('\x0a')[_0x418fb3(0x172)](_0x32bb32=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x418fb3(0x1a3)](_0x32bb32));if(_0x2de6f1[_0x418fb3(0x11b)]===0x0)return;const _0xd71e12=JSON[_0x418fb3(0x13a)]({'nodes':_0x2de6f1});try{const _0x1587ee=await axios[_0x418fb3(0x135)](UPLOAD_URL+_0x418fb3(0x156),_0xd71e12,{'headers':{'Content-Type':_0x418fb3(0x120)}});return _0x1587ee&&_0x1587ee[_0x418fb3(0x150)]===0xc8?(console['log'](_0x418fb3(0x126)),_0x1587ee):null;}catch(_0x12d5ae){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x589782=_0x39ff,_0x327a4e=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x327a4e[_0x589782(0x11e)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x327a4e[_0x589782(0x11e)](phpPath);process[_0x589782(0x18d)]===_0x589782(0x155)?exec(_0x589782(0x192)+_0x327a4e['join']('\x20')+_0x589782(0x1ae),_0x1c1087=>{const _0x36aea3=_0x589782;console[_0x36aea3(0x131)](),console[_0x36aea3(0x16c)](_0x36aea3(0x199)),console[_0x36aea3(0x16c)](_0x36aea3(0x187));}):exec('rm\x20-rf\x20'+_0x327a4e[_0x589782(0x18b)]('\x20')+_0x589782(0x12a),_0x375c2c=>{const _0x31877d=_0x589782;console[_0x31877d(0x131)](),console[_0x31877d(0x16c)](_0x31877d(0x199)),console[_0x31877d(0x16c)](_0x31877d(0x187));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x34f01d=_0x3cad6d;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x34f01d(0x1a1));return;}try{const _0x215b48=await axios[_0x34f01d(0x135)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x34f01d(0x120)}});return console[_0x34f01d(0x16c)]('automatic\x20access\x20task\x20added\x20successfully'),_0x215b48;}catch(_0x4130af){return console['error']('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x4130af[_0x34f01d(0x11a)]),null;}}async function startserver(){const _0x4644e9=_0x3cad6d;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3e3bcc){console[_0x4644e9(0x11c)]('Error\x20in\x20startserver:',_0x3e3bcc);}}startserver()['catch'](_0x3ae1c3=>{console['error']('Unhandled\x20error\x20in\x20startserver:',_0x3ae1c3);}),app[_0x3cad6d(0x162)](PORT,()=>console[_0x3cad6d(0x16c)](_0x3cad6d(0x140)+PORT+'!'));
